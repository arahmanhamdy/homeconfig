#!/bin/bash
command=$1

function auda() {
    c=""
    case $command in
        "next" ) c="-f" ;;
        "prev" ) c="-r" ;;
        "toggle") c="-t" ;;
        *) return 1;
   esac
   audacious $c

}

function xbmc() {
    c=""
    case $command in
        "next" ) c="-f" ;;
        "prev" ) c="-r" ;;
        "toggle") c="-t" ;;
        *) return 1;
   esac
   xbmcremote --host=xbmc.lan $c

}

function mpd() {
    mpc -h 192.168.20.132 $command
}

function pra() {
    c=""
    case $command in
        "next" ) c="-f" ;;
        "prev" ) c="-r" ;;
        "toggle") c="-t" ;;
        *) return 1;
    esac

    pragha $c
}

if ps -eaf | grep -v grep | grep audacious; then
    auda

elif ps -eaf | grep -v grep | grep xbmcremote; then
    xbmc
else
    pra
fi
